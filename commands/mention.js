const _0x4ad726=_0x5588;(function(_0x509a36,_0x5e43f2){const _0x5e3fb0=_0x5588,_0x137d6e=_0x509a36();while(!![]){try{const _0x3b7ae6=-parseInt(_0x5e3fb0(0x182))/0x1+parseInt(_0x5e3fb0(0x1b3))/0x2*(parseInt(_0x5e3fb0(0x1d0))/0x3)+-parseInt(_0x5e3fb0(0x1e3))/0x4*(-parseInt(_0x5e3fb0(0x1b2))/0x5)+-parseInt(_0x5e3fb0(0x1bd))/0x6+parseInt(_0x5e3fb0(0x19f))/0x7+-parseInt(_0x5e3fb0(0x199))/0x8*(parseInt(_0x5e3fb0(0x1a4))/0x9)+-parseInt(_0x5e3fb0(0x1a3))/0xa*(parseInt(_0x5e3fb0(0x1de))/0xb);if(_0x3b7ae6===_0x5e43f2)break;else _0x137d6e['push'](_0x137d6e['shift']());}catch(_0x19a042){_0x137d6e['push'](_0x137d6e['shift']());}}}(_0x5f00,0xc1891));const fs=require('fs'),path=require(_0x4ad726(0x1bf)),axios=require('axios'),{downloadContentFromMessage}=require(_0x4ad726(0x1c0)),settings=require('../settings');function _0x5f00(){const _0x43dcb4=['mpeg','Reply\x20to\x20a\x20message\x20or\x20media\x20(sticker/image/video/audio/document).','File\x20too\x20large.\x20Max\x201\x20MB.','m4a','ensureDefaultSticker\x20failed:','quotedMessage','some','audio/mp4','dirname','existsSync','jpg','readFileSync','disabled','27087iIWuJM','type','startsWith','ogg','write\x20error','Only\x20Owner\x20or\x20Sudo\x20can\x20use\x20this\x20command.','gifPlayback','download\x20error','extendedTextMessage','utf8','ptt','videoMessage','Failed\x20to\x20save\x20file.','sticker','1177WztnKM','sendMessage','mp3','image','endsWith','4YnhlKu','caption','replace','split','concat','audio/ogg;\x20codecs=opus','documentMessage','assetPath','audioMessage','webp','@s.whatsapp.net','mimetype','user','942426RjLmwB','buttonsResponseMessage','conversation','contextInfo','mention_default.webp','audio/mpeg','assets/','wav','warn','Empty\x20text.','message','mp4','length','toString','unlinkSync','stickerMessage','audio','isArray','data','jid','mention.json','.txt','boolean','1083800kZzjkN','writeFileSync','png','imageMessage','readdirSync','audio/wav','6667283TYZMYa','exports','txt','text','55210lVBYxP','9RkzfwT','stringify','Usage:\x20.mention\x20on|off','Mention\x20reply\x20media\x20updated.','fromMe','stickintro.webp','includes','off','assets','join','error','enabled','filter','listResponseMessage','2173975PgguBx','244oMvJQs','adReply','mentionedJid','push','@whatsapp.net','trim','Failed\x20to\x20download\x20media.','opus','video','assets/mention_default.webp','164598xGvHPb','copyFileSync','path','@whiskeysockets/baileys','handleMentionDetection\x20error:','aac'];_0x5f00=function(){return _0x43dcb4;};return _0x5f00();}function loadState(){const _0xc0f35a=_0x4ad726;try{const _0x2d64d2=fs[_0xc0f35a(0x1ce)](path[_0xc0f35a(0x1ad)](__dirname,'..',_0xc0f35a(0x194),_0xc0f35a(0x196)),_0xc0f35a(0x1d9)),_0x418cde=JSON['parse'](_0x2d64d2);if(_0x418cde&&typeof _0x418cde[_0xc0f35a(0x1ea)]==='string'&&_0x418cde[_0xc0f35a(0x1ea)]['endsWith'](_0xc0f35a(0x1bc)))return{'enabled':!!_0x418cde['enabled'],'assetPath':'','type':_0xc0f35a(0x1a2)};return _0x418cde;}catch{return{'enabled':![],'assetPath':'','type':_0xc0f35a(0x1a2)};}}function saveState(_0x529310){const _0x213df4=_0x4ad726;fs['writeFileSync'](path[_0x213df4(0x1ad)](__dirname,'..','data',_0x213df4(0x196)),JSON[_0x213df4(0x1a5)](_0x529310,null,0x2));}function _0x5588(_0x4e6899,_0x44475b){_0x4e6899=_0x4e6899-0x181;const _0x5f00c6=_0x5f00();let _0x558828=_0x5f00c6[_0x4e6899];return _0x558828;}async function ensureDefaultSticker(_0x14b483){const _0x2721aa=_0x4ad726;try{const _0x5c313b=path[_0x2721aa(0x1ad)](__dirname,'..',_0x14b483[_0x2721aa(0x1ea)]);if(_0x14b483[_0x2721aa(0x1ea)][_0x2721aa(0x1e2)](_0x2721aa(0x186))&&!fs[_0x2721aa(0x1cc)](_0x5c313b)){const _0x248c63=path[_0x2721aa(0x1ad)](__dirname,'..',_0x2721aa(0x1ac),_0x2721aa(0x1a9));if(fs[_0x2721aa(0x1cc)](_0x248c63))fs[_0x2721aa(0x1be)](_0x248c63,_0x5c313b);else{const _0xae3890=path[_0x2721aa(0x1cb)](_0x5c313b);if(!fs[_0x2721aa(0x1cc)](_0xae3890))fs['mkdirSync'](_0xae3890,{'recursive':!![]});fs[_0x2721aa(0x19a)](_0x5c313b['replace']('.webp',_0x2721aa(0x197)),'Default\x20mention\x20sticker\x20not\x20available');}}}catch(_0x8c49ec){console['warn'](_0x2721aa(0x1c7),_0x8c49ec?.[_0x2721aa(0x18c)]||_0x8c49ec);}}async function handleMentionDetection(_0x77c07b,_0x4f1845,_0x1a0153){const _0x393f1a=_0x4ad726;try{if(_0x1a0153['key']?.[_0x393f1a(0x1a8)])return;const _0x4ab35a=loadState();await ensureDefaultSticker(_0x4ab35a);if(!_0x4ab35a[_0x393f1a(0x1af)])return;const _0x1eea2b=_0x77c07b[_0x393f1a(0x181)]?.['id']||_0x77c07b[_0x393f1a(0x181)]?.[_0x393f1a(0x195)]||'';if(!_0x1eea2b)return;const _0x28ab11=_0x1eea2b[_0x393f1a(0x1e6)]('@')[0x0][_0x393f1a(0x1e6)](':')[0x0],_0x252ab8=[_0x28ab11+_0x393f1a(0x1ed),_0x28ab11+_0x393f1a(0x1b7),_0x1eea2b],_0x138cfc=_0x1a0153[_0x393f1a(0x18c)]||{},_0x201dea=[_0x138cfc['extendedTextMessage']?.['contextInfo'],_0x138cfc['imageMessage']?.[_0x393f1a(0x185)],_0x138cfc[_0x393f1a(0x1db)]?.[_0x393f1a(0x185)],_0x138cfc['documentMessage']?.[_0x393f1a(0x185)],_0x138cfc['stickerMessage']?.[_0x393f1a(0x185)],_0x138cfc[_0x393f1a(0x183)]?.[_0x393f1a(0x185)],_0x138cfc[_0x393f1a(0x1b1)]?.[_0x393f1a(0x185)]][_0x393f1a(0x1b0)](Boolean);let _0x2c3535=[];for(const _0x42398e of _0x201dea){if(Array[_0x393f1a(0x193)](_0x42398e[_0x393f1a(0x1b5)]))_0x2c3535=_0x2c3535[_0x393f1a(0x1e7)](_0x42398e[_0x393f1a(0x1b5)]);}const _0x1affb1=[_0x138cfc[_0x393f1a(0x1d8)]?.[_0x393f1a(0x1b5)],_0x138cfc['mentionedJid']]['filter'](Array[_0x393f1a(0x193)]);for(const _0x25543f of _0x1affb1)_0x2c3535=_0x2c3535[_0x393f1a(0x1e7)](_0x25543f);if(!_0x2c3535[_0x393f1a(0x18e)]){const _0x35dacb=(_0x138cfc['conversation']||_0x138cfc[_0x393f1a(0x1d8)]?.[_0x393f1a(0x1a2)]||_0x138cfc[_0x393f1a(0x19c)]?.[_0x393f1a(0x1e4)]||_0x138cfc[_0x393f1a(0x1db)]?.['caption']||'')[_0x393f1a(0x18f)]();if(_0x35dacb){const _0x5e230a=_0x28ab11[_0x393f1a(0x1e5)](/[-\s]/g,''),_0x55dcef=new RegExp('@?'+_0x5e230a+'\x08');if(!_0x55dcef['test'](_0x35dacb[_0x393f1a(0x1e5)](/\s+/g,'')))return;}else return;}const _0xbd9cb5=_0x2c3535[_0x393f1a(0x1c9)](_0x50aa08=>_0x252ab8[_0x393f1a(0x1aa)](_0x50aa08));if(!_0x4ab35a[_0x393f1a(0x1ea)]){await _0x77c07b['sendMessage'](_0x4f1845,{'text':'Hi','contextInfo':settings[_0x393f1a(0x1b4)]},{'quoted':_0x1a0153});return;}const _0x195bae=path[_0x393f1a(0x1ad)](__dirname,'..',_0x4ab35a['assetPath']);if(!fs[_0x393f1a(0x1cc)](_0x195bae)){await _0x77c07b['sendMessage'](_0x4f1845,{'text':'Hi','contextInfo':settings[_0x393f1a(0x1b4)]},{'quoted':_0x1a0153});return;}try{if(_0x4ab35a[_0x393f1a(0x1d1)]===_0x393f1a(0x1dd)){await _0x77c07b[_0x393f1a(0x1df)](_0x4f1845,{'sticker':fs[_0x393f1a(0x1ce)](_0x195bae),'contextInfo':settings['adReply']},{'quoted':_0x1a0153});return;}const _0x3c0528={};if(_0x4ab35a[_0x393f1a(0x1d1)]==='image')_0x3c0528[_0x393f1a(0x1e1)]=fs[_0x393f1a(0x1ce)](_0x195bae);else{if(_0x4ab35a[_0x393f1a(0x1d1)]===_0x393f1a(0x1bb)){_0x3c0528[_0x393f1a(0x1bb)]=fs[_0x393f1a(0x1ce)](_0x195bae);if(_0x4ab35a[_0x393f1a(0x1d6)])_0x3c0528[_0x393f1a(0x1d6)]=!![];}else{if(_0x4ab35a['type']===_0x393f1a(0x192)){_0x3c0528[_0x393f1a(0x192)]=fs[_0x393f1a(0x1ce)](_0x195bae),_0x3c0528[_0x393f1a(0x1ee)]=_0x4ab35a['mimetype']||_0x393f1a(0x187);if(typeof _0x4ab35a[_0x393f1a(0x1da)]===_0x393f1a(0x198))_0x3c0528[_0x393f1a(0x1da)]=_0x4ab35a[_0x393f1a(0x1da)];}else{if(_0x4ab35a[_0x393f1a(0x1d1)]===_0x393f1a(0x1a2))_0x3c0528[_0x393f1a(0x1a2)]=fs[_0x393f1a(0x1ce)](_0x195bae,'utf8');else _0x3c0528['text']='Hi';}}}await _0x77c07b[_0x393f1a(0x1df)](_0x4f1845,{..._0x3c0528,'contextInfo':settings[_0x393f1a(0x1b4)]},{'quoted':_0x1a0153});}catch(_0x331f39){await _0x77c07b[_0x393f1a(0x1df)](_0x4f1845,{'text':'Hi','contextInfo':settings[_0x393f1a(0x1b4)]},{'quoted':_0x1a0153});}}catch(_0x29ace4){console[_0x393f1a(0x1ae)](_0x393f1a(0x1c1),_0x29ace4);}}async function mentionToggleCommand(_0x18b37c,_0x152926,_0x2b8afb,_0x1dd810,_0x18115d){const _0x4b6a63=_0x4ad726;if(!_0x18115d)return _0x18b37c['sendMessage'](_0x152926,{'text':_0x4b6a63(0x1d5),'contextInfo':settings[_0x4b6a63(0x1b4)]},{'quoted':_0x2b8afb});const _0x4ce411=(_0x1dd810||'')[_0x4b6a63(0x1b8)]()['toLowerCase']();if(!_0x4ce411||!['on',_0x4b6a63(0x1ab)][_0x4b6a63(0x1aa)](_0x4ce411))return _0x18b37c[_0x4b6a63(0x1df)](_0x152926,{'text':_0x4b6a63(0x1a6),'contextInfo':settings[_0x4b6a63(0x1b4)]},{'quoted':_0x2b8afb});const _0x45a3de=loadState();return _0x45a3de[_0x4b6a63(0x1af)]=_0x4ce411==='on',saveState(_0x45a3de),_0x18b37c[_0x4b6a63(0x1df)](_0x152926,{'text':'Mention\x20reply\x20'+(_0x45a3de[_0x4b6a63(0x1af)]?'enabled':_0x4b6a63(0x1cf))+'.','contextInfo':settings[_0x4b6a63(0x1b4)]},{'quoted':_0x2b8afb});}async function setMentionCommand(_0x58f9e7,_0x14bdae,_0x57c0f3,_0x3aac89){const _0x171ee2=_0x4ad726;if(!_0x3aac89)return _0x58f9e7[_0x171ee2(0x1df)](_0x14bdae,{'text':_0x171ee2(0x1d5),'contextInfo':settings[_0x171ee2(0x1b4)]},{'quoted':_0x57c0f3});const _0x75f9d8=_0x57c0f3['message']?.['extendedTextMessage']?.[_0x171ee2(0x185)],_0x52a15a=_0x75f9d8?.[_0x171ee2(0x1c8)];if(!_0x52a15a)return _0x58f9e7['sendMessage'](_0x14bdae,{'text':_0x171ee2(0x1c4),'contextInfo':settings[_0x171ee2(0x1b4)]},{'quoted':_0x57c0f3});let _0x2f8f92=_0x171ee2(0x1dd),_0x51ccae,_0x569921;if(_0x52a15a[_0x171ee2(0x191)])_0x569921=_0x171ee2(0x191),_0x2f8f92=_0x171ee2(0x1dd);else{if(_0x52a15a['imageMessage'])_0x569921='imageMessage',_0x2f8f92='image';else{if(_0x52a15a[_0x171ee2(0x1db)])_0x569921=_0x171ee2(0x1db),_0x2f8f92=_0x171ee2(0x1bb);else{if(_0x52a15a['audioMessage'])_0x569921=_0x171ee2(0x1eb),_0x2f8f92=_0x171ee2(0x192);else{if(_0x52a15a[_0x171ee2(0x1e9)])_0x569921='documentMessage',_0x2f8f92='file';else{if(_0x52a15a['conversation']||_0x52a15a[_0x171ee2(0x1d8)]?.['text'])_0x2f8f92=_0x171ee2(0x1a2);else return _0x58f9e7[_0x171ee2(0x1df)](_0x14bdae,{'text':'Unsupported.\x20Reply\x20to\x20text/sticker/image/video/audio/document.','contextInfo':settings[_0x171ee2(0x1b4)]},{'quoted':_0x57c0f3});}}}}}if(_0x2f8f92==='text'){_0x51ccae=Buffer['from'](_0x52a15a[_0x171ee2(0x184)]||_0x52a15a['extendedTextMessage']?.['text']||'',_0x171ee2(0x1d9));if(!_0x51ccae['length'])return _0x58f9e7[_0x171ee2(0x1df)](_0x14bdae,{'text':_0x171ee2(0x18b),'contextInfo':settings[_0x171ee2(0x1b4)]},{'quoted':_0x57c0f3});}else try{const _0x3e1ee7=_0x52a15a[_0x569921],_0x1974e5=_0x2f8f92===_0x171ee2(0x1dd)?_0x171ee2(0x1dd):_0x2f8f92,_0x10d6d9=await downloadContentFromMessage(_0x3e1ee7,_0x1974e5),_0x3689dc=[];for await(const _0x377bae of _0x10d6d9)_0x3689dc[_0x171ee2(0x1b6)](_0x377bae);_0x51ccae=Buffer[_0x171ee2(0x1e7)](_0x3689dc);}catch(_0x5d0cf0){return console[_0x171ee2(0x1ae)](_0x171ee2(0x1d7),_0x5d0cf0),_0x58f9e7[_0x171ee2(0x1df)](_0x14bdae,{'text':_0x171ee2(0x1b9),'contextInfo':settings[_0x171ee2(0x1b4)]},{'quoted':_0x57c0f3});}if(_0x51ccae[_0x171ee2(0x18e)]>0x400*0x400)return _0x58f9e7[_0x171ee2(0x1df)](_0x14bdae,{'text':_0x171ee2(0x1c5),'contextInfo':settings['adReply']},{'quoted':_0x57c0f3});let _0x2b1cc9=_0x52a15a[_0x569921]?.[_0x171ee2(0x1ee)]||'',_0x3ea732=!!_0x52a15a['audioMessage']?.[_0x171ee2(0x1da)],_0x49ffdf=!!_0x52a15a[_0x171ee2(0x1db)]?.[_0x171ee2(0x1d6)],_0xdd5ac1='bin';if(_0x2f8f92==='sticker')_0xdd5ac1=_0x171ee2(0x1ec);else{if(_0x2f8f92==='image')_0xdd5ac1=_0x2b1cc9[_0x171ee2(0x1aa)](_0x171ee2(0x19b))?_0x171ee2(0x19b):_0x171ee2(0x1cd);else{if(_0x2f8f92===_0x171ee2(0x1bb))_0xdd5ac1=_0x171ee2(0x18d);else{if(_0x2f8f92===_0x171ee2(0x192)){if(_0x2b1cc9['includes'](_0x171ee2(0x1d3))||_0x2b1cc9[_0x171ee2(0x1aa)](_0x171ee2(0x1ba)))_0xdd5ac1=_0x171ee2(0x1d3),_0x2b1cc9=_0x171ee2(0x1e8);else{if(_0x2b1cc9[_0x171ee2(0x1aa)](_0x171ee2(0x1c3))||_0x2b1cc9[_0x171ee2(0x1aa)](_0x171ee2(0x1e0)))_0xdd5ac1='mp3',_0x2b1cc9=_0x171ee2(0x187);else{if(_0x2b1cc9['includes'](_0x171ee2(0x1c2)))_0xdd5ac1=_0x171ee2(0x1c2),_0x2b1cc9='audio/aac';else{if(_0x2b1cc9[_0x171ee2(0x1aa)](_0x171ee2(0x189)))_0xdd5ac1=_0x171ee2(0x189),_0x2b1cc9=_0x171ee2(0x19e);else _0x2b1cc9[_0x171ee2(0x1aa)](_0x171ee2(0x1c6))||_0x2b1cc9[_0x171ee2(0x1aa)](_0x171ee2(0x18d))?(_0xdd5ac1='m4a',_0x2b1cc9=_0x171ee2(0x1ca)):(_0xdd5ac1=_0x171ee2(0x1e0),_0x2b1cc9=_0x171ee2(0x187));}}}}else{if(_0x2f8f92==='text')_0xdd5ac1=_0x171ee2(0x1a1);}}}}const _0x5378de=loadState();try{const _0x3249ed=path[_0x171ee2(0x1ad)](__dirname,'..',_0x171ee2(0x1ac));if(fs['existsSync'](_0x3249ed)){const _0x1d8e65=fs[_0x171ee2(0x19d)](_0x3249ed);for(const _0x261936 of _0x1d8e65){if(_0x261936[_0x171ee2(0x1d2)]('mention_custom.'))try{fs[_0x171ee2(0x190)](path['join'](_0x3249ed,_0x261936));}catch{}}}if(_0x5378de[_0x171ee2(0x1ea)]&&_0x5378de[_0x171ee2(0x1ea)][_0x171ee2(0x1d2)](_0x171ee2(0x188))&&!_0x5378de[_0x171ee2(0x1ea)]['endsWith'](_0x171ee2(0x186))){const _0x18095e=path[_0x171ee2(0x1ad)](__dirname,'..',_0x5378de[_0x171ee2(0x1ea)]);if(fs[_0x171ee2(0x1cc)](_0x18095e))try{fs['unlinkSync'](_0x18095e);}catch{}}}catch(_0x3a38d7){console[_0x171ee2(0x18a)]('cleanup\x20previous\x20assets\x20failed:',_0x3a38d7?.[_0x171ee2(0x18c)]||_0x3a38d7);}const _0x5eced6='mention_custom.'+_0xdd5ac1,_0x5a565a=path[_0x171ee2(0x1ad)](__dirname,'..',_0x171ee2(0x1ac),_0x5eced6);try{fs['writeFileSync'](_0x5a565a,_0x51ccae);}catch(_0x46e25c){return console['error'](_0x171ee2(0x1d4),_0x46e25c),_0x58f9e7['sendMessage'](_0x14bdae,{'text':_0x171ee2(0x1dc),'contextInfo':settings[_0x171ee2(0x1b4)]},{'quoted':_0x57c0f3});}const _0x1e290b=loadState();_0x1e290b[_0x171ee2(0x1ea)]=path[_0x171ee2(0x1ad)](_0x171ee2(0x1ac),_0x5eced6),_0x1e290b[_0x171ee2(0x1d1)]=_0x2f8f92;if(_0x2f8f92===_0x171ee2(0x192))_0x1e290b['mimetype']=_0x2b1cc9;if(_0x2f8f92===_0x171ee2(0x192))_0x1e290b[_0x171ee2(0x1da)]=_0x3ea732;if(_0x2f8f92===_0x171ee2(0x1bb))_0x1e290b['gifPlayback']=_0x49ffdf;return saveState(_0x1e290b),_0x58f9e7[_0x171ee2(0x1df)](_0x14bdae,{'text':_0x171ee2(0x1a7),'contextInfo':settings[_0x171ee2(0x1b4)]},{'quoted':_0x57c0f3});}module[_0x4ad726(0x1a0)]={'handleMentionDetection':handleMentionDetection,'mentionToggleCommand':mentionToggleCommand,'setMentionCommand':setMentionCommand};