const _0x4f31ae=_0x3dba;(function(_0x174836,_0x32b8c6){const _0x4f6831=_0x3dba,_0x1fe264=_0x174836();while(!![]){try{const _0x1eec98=-parseInt(_0x4f6831(0x7a))/0x1*(-parseInt(_0x4f6831(0x8e))/0x2)+-parseInt(_0x4f6831(0x82))/0x3*(-parseInt(_0x4f6831(0x88))/0x4)+-parseInt(_0x4f6831(0x92))/0x5*(parseInt(_0x4f6831(0x90))/0x6)+parseInt(_0x4f6831(0x8d))/0x7*(parseInt(_0x4f6831(0x7b))/0x8)+-parseInt(_0x4f6831(0x76))/0x9*(-parseInt(_0x4f6831(0x8f))/0xa)+-parseInt(_0x4f6831(0x75))/0xb+-parseInt(_0x4f6831(0x78))/0xc*(parseInt(_0x4f6831(0x79))/0xd);if(_0x1eec98===_0x32b8c6)break;else _0x1fe264['push'](_0x1fe264['shift']());}catch(_0x2369d8){_0x1fe264['push'](_0x1fe264['shift']());}}}(_0xeb04,0xe43cc));const sharp=require('sharp'),fs=require('fs'),fsPromises=require(_0x4f31ae(0x73)),fse=require(_0x4f31ae(0x83)),path=require(_0x4f31ae(0x85)),{downloadContentFromMessage}=require('@whiskeysockets/baileys'),settings=require(_0x4f31ae(0x87)),tempDir=_0x4f31ae(0x86);function _0x3dba(_0x33a021,_0x175693){_0x33a021=_0x33a021-0x72;const _0xeb04d8=_0xeb04();let _0x3dba65=_0xeb04d8[_0x33a021];return _0x3dba65;}if(!fs[_0x4f31ae(0x95)](tempDir))fs['mkdirSync'](tempDir);function _0xeb04(){const _0x134487=['existsSync','now','File\x20deleted:\x20','Here\x20is\x20the\x20converted\x20image!','join','fs/promises','converted_image_','10695784hsuwPC','666guiwrv','exports','441156sbwJaU','299IqRhfn','385095DAuTnA','5604232RnDAVz','Failed\x20to\x20delete\x20file:','error','An\x20error\x20occurred\x20while\x20converting\x20the\x20sticker.','sendMessage','readFile','.png','3ChqSAM','fs-extra','stickerMessage','path','./temp','../settings','1356536KiRxuZ','adReply','png','toFormat','concat','14zryWpa','4grsQnV','96630GXzWUz','6ofidym','.webp','2363455rTFDZo','sticker_','sticker'];_0xeb04=function(){return _0x134487;};return _0xeb04();}const scheduleFileDeletion=_0x310c0e=>{setTimeout(async()=>{const _0x1e2f06=_0x3dba;try{await fse['remove'](_0x310c0e),console['log'](_0x1e2f06(0x97)+_0x310c0e);}catch(_0x1af748){console['error'](_0x1e2f06(0x7c),_0x1af748);}},0x2710);},convertStickerToImage=async(_0x4b08db,_0x221b59,_0x5cc759)=>{const _0x174111=_0x4f31ae;try{const _0x8b295e=_0x221b59[_0x174111(0x84)];if(!_0x8b295e){await _0x4b08db['sendMessage'](_0x5cc759,{'text':'Reply\x20to\x20a\x20sticker\x20with\x20.simage\x20to\x20convert\x20it.','contextInfo':settings[_0x174111(0x89)]});return;}const _0x418992=path[_0x174111(0x72)](tempDir,_0x174111(0x93)+Date[_0x174111(0x96)]()+_0x174111(0x91)),_0x5d2ec0=path[_0x174111(0x72)](tempDir,_0x174111(0x74)+Date[_0x174111(0x96)]()+_0x174111(0x81)),_0x2b555d=await downloadContentFromMessage(_0x8b295e,_0x174111(0x94));let _0x3a51bd=Buffer['from']([]);for await(const _0x219ba7 of _0x2b555d)_0x3a51bd=Buffer[_0x174111(0x8c)]([_0x3a51bd,_0x219ba7]);await fsPromises['writeFile'](_0x418992,_0x3a51bd),await sharp(_0x418992)[_0x174111(0x8b)](_0x174111(0x8a))['toFile'](_0x5d2ec0);const _0x355d0f=await fsPromises[_0x174111(0x80)](_0x5d2ec0);await _0x4b08db['sendMessage'](_0x5cc759,{'image':_0x355d0f,'caption':_0x174111(0x98),'contextInfo':settings[_0x174111(0x89)]}),scheduleFileDeletion(_0x418992),scheduleFileDeletion(_0x5d2ec0);}catch(_0x3d2c4a){console[_0x174111(0x7d)]('Error\x20converting\x20sticker\x20to\x20image:',_0x3d2c4a),await _0x4b08db[_0x174111(0x7f)](_0x5cc759,{'text':_0x174111(0x7e),'contextInfo':settings['adReply']});}};module[_0x4f31ae(0x77)]=convertStickerToImage;