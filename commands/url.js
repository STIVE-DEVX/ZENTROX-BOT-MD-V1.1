const _0xddd7ff=_0x5be7;(function(_0x4877fa,_0x3c3db4){const _0x6eba55=_0x5be7,_0x28e656=_0x4877fa();while(!![]){try{const _0x48baaa=parseInt(_0x6eba55(0xe2))/0x1+parseInt(_0x6eba55(0xbd))/0x2+-parseInt(_0x6eba55(0xde))/0x3*(parseInt(_0x6eba55(0xcb))/0x4)+-parseInt(_0x6eba55(0xec))/0x5*(parseInt(_0x6eba55(0xca))/0x6)+parseInt(_0x6eba55(0xd1))/0x7+-parseInt(_0x6eba55(0xe0))/0x8*(parseInt(_0x6eba55(0xd8))/0x9)+parseInt(_0x6eba55(0xd0))/0xa;if(_0x48baaa===_0x3c3db4)break;else _0x28e656['push'](_0x28e656['shift']());}catch(_0x1aa48c){_0x28e656['push'](_0x28e656['shift']());}}}(_0x32f6,0x9fb5e));function _0x5be7(_0x591bd5,_0x1c9784){_0x591bd5=_0x591bd5-0xbd;const _0x32f6ec=_0x32f6();let _0x5be76c=_0x32f6ec[_0x591bd5];return _0x5be76c;}const {downloadContentFromMessage}=require(_0xddd7ff(0xc6)),fs=require('fs'),path=require('path'),{UploadFileUgu,TelegraPh}=require(_0xddd7ff(0xbf));async function getMediaBufferAndExt(_0x34d0f9){const _0x212041=_0xddd7ff,_0x25f745=_0x34d0f9[_0x212041(0xe9)]||{};if(_0x25f745[_0x212041(0xc7)]){const _0x10596a=await downloadContentFromMessage(_0x25f745['imageMessage'],'image'),_0x1a3b2a=[];for await(const _0x397ad8 of _0x10596a)_0x1a3b2a['push'](_0x397ad8);return{'buffer':Buffer['concat'](_0x1a3b2a),'ext':_0x212041(0xcd)};}if(_0x25f745[_0x212041(0xdd)]){const _0x117480=await downloadContentFromMessage(_0x25f745[_0x212041(0xdd)],'video'),_0x5a35a5=[];for await(const _0x159c56 of _0x117480)_0x5a35a5[_0x212041(0xc2)](_0x159c56);return{'buffer':Buffer[_0x212041(0xd4)](_0x5a35a5),'ext':_0x212041(0xc0)};}if(_0x25f745[_0x212041(0xe4)]){const _0x1498c9=await downloadContentFromMessage(_0x25f745[_0x212041(0xe4)],_0x212041(0xe1)),_0x2ca4ef=[];for await(const _0x574467 of _0x1498c9)_0x2ca4ef['push'](_0x574467);return{'buffer':Buffer[_0x212041(0xd4)](_0x2ca4ef),'ext':_0x212041(0xe5)};}if(_0x25f745[_0x212041(0xdc)]){const _0x27ab72=await downloadContentFromMessage(_0x25f745['documentMessage'],'document'),_0x22cc75=[];for await(const _0x43caaa of _0x27ab72)_0x22cc75['push'](_0x43caaa);const _0x5eeefa=_0x25f745['documentMessage'][_0x212041(0xee)]||'file.bin',_0x3ade7b=path['extname'](_0x5eeefa)||'.bin';return{'buffer':Buffer[_0x212041(0xd4)](_0x22cc75),'ext':_0x3ade7b};}if(_0x25f745[_0x212041(0xc3)]){const _0x407f50=await downloadContentFromMessage(_0x25f745[_0x212041(0xc3)],_0x212041(0xd6)),_0x479703=[];for await(const _0x1d3166 of _0x407f50)_0x479703[_0x212041(0xc2)](_0x1d3166);return{'buffer':Buffer[_0x212041(0xd4)](_0x479703),'ext':_0x212041(0xd7)};}return null;}async function getQuotedMediaBufferAndExt(_0x3b2991){const _0x26821f=_0xddd7ff,_0x4438f6=_0x3b2991[_0x26821f(0xe9)]?.[_0x26821f(0xd5)]?.['contextInfo']?.['quotedMessage']||null;if(!_0x4438f6)return null;return getMediaBufferAndExt({'message':_0x4438f6});}async function urlCommand(_0x2434b2,_0x2b2112,_0x4314f3){const _0x7673a8=_0xddd7ff;try{let _0x1a86d7=await getMediaBufferAndExt(_0x4314f3);if(!_0x1a86d7)_0x1a86d7=await getQuotedMediaBufferAndExt(_0x4314f3);if(!_0x1a86d7){await _0x2434b2[_0x7673a8(0xce)](_0x2b2112,{'text':'Envoie\x20ou\x20réponds\x20à\x20un\x20média\x20(image,\x20vidéo,\x20audio,\x20sticker,\x20document)\x20pour\x20obtenir\x20son\x20URL.','contextInfo':{'forwardingScore':0x1,'isForwarded':!![],'forwardedNewsletterMessageInfo':{'newsletterJid':_0x7673a8(0xda),'newsletterName':_0x7673a8(0xd9),'serverMessageId':-0x1}}},{'quoted':_0x4314f3});return;}const _0x3679d5=path[_0x7673a8(0xe3)](__dirname,'../temp');if(!fs[_0x7673a8(0xbe)](_0x3679d5))fs[_0x7673a8(0xdf)](_0x3679d5,{'recursive':!![]});const _0x1cf646=path[_0x7673a8(0xe3)](_0x3679d5,''+Date[_0x7673a8(0xe7)]()+_0x1a86d7[_0x7673a8(0xc5)]);fs[_0x7673a8(0xc9)](_0x1cf646,_0x1a86d7[_0x7673a8(0xeb)]);let _0x2a04e5='';try{if([_0x7673a8(0xcd),'.png',_0x7673a8(0xd7)][_0x7673a8(0xc1)](_0x1a86d7['ext']))try{_0x2a04e5=await TelegraPh(_0x1cf646);}catch{const _0xab6340=await UploadFileUgu(_0x1cf646);_0x2a04e5=typeof _0xab6340==='string'?_0xab6340:_0xab6340[_0x7673a8(0xe6)]||_0xab6340[_0x7673a8(0xe8)]||JSON['stringify'](_0xab6340);}else{const _0x564cf2=await UploadFileUgu(_0x1cf646);_0x2a04e5=typeof _0x564cf2===_0x7673a8(0xc8)?_0x564cf2:_0x564cf2['url']||_0x564cf2['url_full']||JSON[_0x7673a8(0xcf)](_0x564cf2);}}finally{setTimeout(()=>{const _0x153f46=_0x7673a8;try{if(fs[_0x153f46(0xbe)](_0x1cf646))fs[_0x153f46(0xc4)](_0x1cf646);}catch{}},0x7d0);}if(!_0x2a04e5){await _0x2434b2['sendMessage'](_0x2b2112,{'text':_0x7673a8(0xdb),'contextInfo':{'forwardingScore':0x1,'isForwarded':!![],'forwardedNewsletterMessageInfo':{'newsletterJid':_0x7673a8(0xda),'newsletterName':_0x7673a8(0xd9),'serverMessageId':-0x1}}},{'quoted':_0x4314f3});return;}await _0x2434b2[_0x7673a8(0xce)](_0x2b2112,{'text':_0x7673a8(0xd3)+_0x2a04e5+_0x7673a8(0xd2),'contextInfo':{'forwardingScore':0x1,'isForwarded':!![],'forwardedNewsletterMessageInfo':{'newsletterJid':_0x7673a8(0xda),'newsletterName':'ZENTROX\x20MD','serverMessageId':-0x1}}},{'quoted':_0x4314f3});}catch(_0xe89159){console[_0x7673a8(0xea)](_0x7673a8(0xcc),_0xe89159?.[_0x7673a8(0xe9)]||_0xe89159),await _0x2434b2[_0x7673a8(0xce)](_0x2b2112,{'text':_0x7673a8(0xed),'contextInfo':{'forwardingScore':0x1,'isForwarded':!![],'forwardedNewsletterMessageInfo':{'newsletterJid':_0x7673a8(0xda),'newsletterName':_0x7673a8(0xd9),'serverMessageId':-0x1}}},{'quoted':_0x4314f3});}}function _0x32f6(){const _0xea061c=['120363401545196668@newsletter','Échec\x20de\x20l’envoi\x20du\x20fichier.','documentMessage','videoMessage','33TeFLCN','mkdirSync','42176QXETlY','audio','1255906oIlIIs','join','audioMessage','.mp3','url','now','url_full','message','error','buffer','5mbLadv','Échec\x20de\x20la\x20conversion\x20du\x20média\x20en\x20URL.','fileName','1047494dxtszk','existsSync','../lib/uploader','.mp4','includes','push','stickerMessage','unlinkSync','ext','@whiskeysockets/baileys','imageMessage','string','writeFileSync','2162130UvPmdp','223636WXhitg','[URL]\x20erreur\x20:','.jpg','sendMessage','stringify','2403250fAoYGH','2027466IgOLcV','\x0a\x0a_BY\x20STIVO\x20TECH\x20™_','URL\x20:\x20','concat','extendedTextMessage','sticker','.webp','1161ZlVWvG','ZENTROX\x20MD'];_0x32f6=function(){return _0xea061c;};return _0x32f6();}module['exports']=urlCommand;