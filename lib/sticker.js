function _0x57d1(_0x3191a0,_0x4c88cc){_0x3191a0=_0x3191a0-0x100;const _0x5172a8=_0x5172();let _0x57d11e=_0x5172a8[_0x3191a0];return _0x57d11e;}const _0x4a109b=_0x57d1;(function(_0x1e1068,_0x10de5){const _0x23e859=_0x57d1,_0x498d02=_0x1e1068();while(!![]){try{const _0x31710f=-parseInt(_0x23e859(0x126))/0x1*(-parseInt(_0x23e859(0x12b))/0x2)+-parseInt(_0x23e859(0x100))/0x3*(parseInt(_0x23e859(0x104))/0x4)+-parseInt(_0x23e859(0x12f))/0x5+-parseInt(_0x23e859(0x125))/0x6+-parseInt(_0x23e859(0x13a))/0x7+-parseInt(_0x23e859(0x120))/0x8*(-parseInt(_0x23e859(0x11b))/0x9)+parseInt(_0x23e859(0x145))/0xa;if(_0x31710f===_0x10de5)break;else _0x498d02['push'](_0x498d02['shift']());}catch(_0x269de7){_0x498d02['push'](_0x498d02['shift']());}}}(_0x5172,0xd9af3));const fs=require('fs'),path=require(_0x4a109b(0x134)),crypto=require(_0x4a109b(0x123)),{spawn}=require(_0x4a109b(0x113)),{fileTypeFromBuffer}=require(_0x4a109b(0x102)),webp=require('node-webpmux'),fetch=require(_0x4a109b(0x118)),ffmpeg=require('fluent-ffmpeg'),{exec}=require(_0x4a109b(0x113)),{promisify}=require(_0x4a109b(0x117)),execAsync=promisify(exec),{writeExifImg}=require(_0x4a109b(0x111)),tmp=path[_0x4a109b(0x143)](__dirname,'../tmp');function _0x5172(){const _0x4cda4e=['path','text','from','stdin','inputFormat','stringify','5589290EtgLET','mime','default','addOutputOptions','randomBytes','.jpeg','load','pipe','stdout','join','https://api.xteam.xyz/sticker/wm?','27985350ToCJZt','length','bin','buffer','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','entries','15819rGQLiR','save','file-type','webp','20kqoWSE','status','test','exports','toFormat','support','error','ext','utf8','input','hex','exif','Error\x20in\x20sticker\x20creation:','./exif','@bot','child_process','reply','push','png:-','util','node-fetch','-vf','png','558sPBSRS','scale=512:512:flags=lanczos:force_original_aspect_ratio=decrease,format=rgba,pad=512:512:(ow-iw)/2:(oh-ih)/2:color=#00000000,setsar=1','.webp','../tmp/','promises','179056bDpbHe','unlink','webp:-','crypto','data','10084602CRxEyT','2998VmPbSU','format','toString','writeUIntLE','exit','40NekhNf','chat','magick','writeFile','4244710yjVVAO','wa-sticker-formatter','Image','concat','WhatsApp\x20Bot'];_0x5172=function(){return _0x4cda4e;};return _0x5172();}function sticker2(_0x12d190,_0x56d097){return new Promise(async(_0x2718e8,_0x57ff5d)=>{const _0x56b7a2=_0x57d1;try{if(_0x56d097){let _0x22ff7e=await fetch(_0x56d097);if(_0x22ff7e[_0x56b7a2(0x105)]!==0xc8)throw await _0x22ff7e[_0x56b7a2(0x135)]();_0x12d190=await _0x22ff7e[_0x56b7a2(0x148)]();}let _0x14c76c=path[_0x56b7a2(0x143)](tmp,+new Date()+_0x56b7a2(0x13f));await fs[_0x56b7a2(0x11f)][_0x56b7a2(0x12e)](_0x14c76c,_0x12d190);let _0x5375c=spawn('ffmpeg',['-y','-i',_0x14c76c,_0x56b7a2(0x119),_0x56b7a2(0x11c),'-f',_0x56b7a2(0x11a),'-']);_0x5375c['on'](_0x56b7a2(0x10a),_0x57ff5d),_0x5375c['on']('close',async()=>{await fs['promises']['unlink'](_0x14c76c);});let _0x20b724=[];const [_0x515f4a,..._0x25361a]=[...module[_0x56b7a2(0x107)][_0x56b7a2(0x109)]['gm']?['gm']:module[_0x56b7a2(0x107)][_0x56b7a2(0x12d)]?['magick']:[],'convert',_0x56b7a2(0x116),_0x56b7a2(0x122)];let _0x4091fc=spawn(_0x515f4a,_0x25361a);_0x4091fc['on'](_0x56b7a2(0x10a),_0x5b555a=>conn[_0x56b7a2(0x114)](m[_0x56b7a2(0x12c)],util[_0x56b7a2(0x127)](_0x5b555a),m)),_0x4091fc['stdout']['on'](_0x56b7a2(0x124),_0x2d2679=>_0x20b724[_0x56b7a2(0x115)](_0x2d2679)),_0x5375c[_0x56b7a2(0x142)][_0x56b7a2(0x141)](_0x4091fc[_0x56b7a2(0x137)]),_0x4091fc['on'](_0x56b7a2(0x12a),()=>{_0x2718e8(Buffer['concat'](_0x20b724));});}catch(_0x35eb6e){_0x57ff5d(_0x35eb6e);}});}async function sticker3(_0x3df8b6,_0x4ce9f6,_0x50ddae,_0x46c51d){const _0x3fbeef=_0x4a109b;_0x4ce9f6=_0x4ce9f6?_0x4ce9f6:await uploadFile(_0x3df8b6);let _0x4dc5a4=await fetch(_0x3fbeef(0x144)+new URLSearchParams(Object[_0x3fbeef(0x14a)]({'url':_0x4ce9f6,'packname':_0x50ddae,'author':_0x46c51d})));return await _0x4dc5a4[_0x3fbeef(0x148)]();}async function sticker4(_0x5a1b2d,_0x15743b){const _0x193e2c=_0x4a109b;if(_0x15743b){let _0x3f8629=await fetch(_0x15743b);if(_0x3f8629['status']!==0xc8)throw await _0x3f8629[_0x193e2c(0x135)]();_0x5a1b2d=await _0x3f8629[_0x193e2c(0x148)]();}return await ffmpeg(_0x5a1b2d,[_0x193e2c(0x119),_0x193e2c(0x11c)],'jpeg',_0x193e2c(0x103));}async function sticker5(_0x36daf9,_0x2c666f,_0x4eb23a,_0x2c8cdf,_0x127768=[''],_0x549179={}){const _0x4c5874=_0x4a109b,{Sticker:_0x2ca668}=await import(_0x4c5874(0x130)),_0x460dcf={'type':_0x4c5874(0x13c),'pack':_0x4eb23a,'author':_0x2c8cdf,'categories':_0x127768,..._0x549179};return new _0x2ca668(_0x36daf9?_0x36daf9:_0x2c666f,_0x460dcf)['toBuffer']();}function sticker6(_0x2aaca8,_0x138713){return new Promise(async(_0x329683,_0x1a6e69)=>{const _0x1e1fa1=_0x57d1;if(_0x138713){let _0x26577e=await fetch(_0x138713);if(_0x26577e[_0x1e1fa1(0x105)]!==0xc8)throw await _0x26577e[_0x1e1fa1(0x135)]();_0x2aaca8=await _0x26577e[_0x1e1fa1(0x148)]();}const _0x25aaa5=await fileTypeFromBuffer(_0x2aaca8)||{'mime':'application/octet-stream','ext':_0x1e1fa1(0x147)};if(_0x25aaa5['ext']=='bin')_0x1a6e69(_0x2aaca8);const _0x5f2d4a=path[_0x1e1fa1(0x143)](__dirname,_0x1e1fa1(0x11e)+ +new Date()+'.'+_0x25aaa5[_0x1e1fa1(0x10b)]),_0x444804=path[_0x1e1fa1(0x143)](_0x5f2d4a+_0x1e1fa1(0x11d));await fs[_0x1e1fa1(0x11f)][_0x1e1fa1(0x12e)](_0x5f2d4a,_0x2aaca8);let _0x3a7113=/video/i[_0x1e1fa1(0x106)](_0x25aaa5[_0x1e1fa1(0x13b)])?fluent_ffmpeg(_0x5f2d4a)[_0x1e1fa1(0x138)](_0x25aaa5[_0x1e1fa1(0x10b)]):fluent_ffmpeg(_0x5f2d4a)[_0x1e1fa1(0x10d)](_0x5f2d4a);_0x3a7113['on'](_0x1e1fa1(0x10a),function(_0x107e7b){const _0x317d14=_0x1e1fa1;console['error'](_0x107e7b),fs[_0x317d14(0x11f)][_0x317d14(0x121)](_0x5f2d4a),_0x1a6e69(_0x2aaca8);})['on']('end',async function(){const _0x3ed448=_0x1e1fa1;fs[_0x3ed448(0x11f)][_0x3ed448(0x121)](_0x5f2d4a),_0x329683(await fs[_0x3ed448(0x11f)]['readFile'](_0x444804));})[_0x1e1fa1(0x13d)](['-vcodec','libwebp','-vf',_0x1e1fa1(0x149)])[_0x1e1fa1(0x108)](_0x1e1fa1(0x103))[_0x1e1fa1(0x101)](_0x444804);});}async function addExif(_0x4ede3e,_0x432c41,_0x1def6c,_0x45d0ab=[''],_0x522895={}){const _0x49b2c2=_0x4a109b,_0x37ec2e=new webp[(_0x49b2c2(0x131))](),_0x231781=crypto[_0x49b2c2(0x13e)](0x20)[_0x49b2c2(0x128)](_0x49b2c2(0x10e)),_0x2c96f3={'sticker-pack-id':_0x231781,'sticker-pack-name':_0x432c41,'sticker-pack-publisher':_0x1def6c,'emojis':_0x45d0ab,..._0x522895};let _0x2cf773=Buffer[_0x49b2c2(0x136)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x151b53=Buffer['from'](JSON[_0x49b2c2(0x139)](_0x2c96f3),_0x49b2c2(0x10c)),_0xccb3d7=Buffer[_0x49b2c2(0x132)]([_0x2cf773,_0x151b53]);return _0xccb3d7[_0x49b2c2(0x129)](_0x151b53[_0x49b2c2(0x146)],0xe,0x4),await _0x37ec2e[_0x49b2c2(0x140)](_0x4ede3e),_0x37ec2e[_0x49b2c2(0x10f)]=_0xccb3d7,await _0x37ec2e[_0x49b2c2(0x101)](null);}async function sticker(_0x22d210,_0x1e957c,_0xece50f,_0x2ee296){const _0x154e94=_0x4a109b;try{const _0x1b7110=await fetch(_0x1e957c),_0x39357a=await _0x1b7110[_0x154e94(0x148)](),_0x27439b=await writeExifImg(_0x39357a,{'packname':_0xece50f||_0x154e94(0x133),'author':_0x2ee296||_0x154e94(0x112)});return _0x27439b;}catch(_0x52fcb2){return console[_0x154e94(0x10a)](_0x154e94(0x110),_0x52fcb2),null;}}const support={'ffmpeg':!![],'ffprobe':!![],'ffmpegWebp':!![],'convert':!![],'magick':![],'gm':![],'find':![]};module[_0x4a109b(0x107)]={'sticker':sticker,'sticker2':sticker2,'sticker3':sticker3,'sticker4':sticker4,'sticker6':sticker6,'addExif':addExif,'support':support};